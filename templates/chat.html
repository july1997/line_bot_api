{% extends 'mybase.html' %}

{% block title %}チャット{% endblock %}

{% block extra_javascript %}

<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
{% load static %}
<script src="{% static 'chat.js' %}"></script>

{% endblock extra_javascript %}

{% block content %}
<section class="hero">
    <div class="hero-body">
        <div id="app" class="container">
            <div class="tabs-page is-show js-tabs-page js-tabs-page_design">
                <h1 class="title title-comment is-4"><i class="fas fa-comments"></i> チャット</h2>
                <article class="media">
                        <figure class="media-left">
                            <p class="image is-64x64">
                                <img class="is-rounded" src="{% static 'bot.png' %}">
                            </p>
                        </figure>
                    <div class="media-content">
                        <div class="content">
                            <p>
                                <strong>ミクアカBot</strong>
                                <br>たくさん話しかけてね！
                            </p>
                        </div>
                        <article class="media">
                            <figure class="media-left">
                                    <p class="image is-16x16"></p>
                            </figure>
                            <div class="media-content">
                                <p v-for="(item, i) in getListFirstOne" :key="i">
                                    <strong>[[ item.user ]]</strong><br>
                                    [[ item.message ]]
                                </p>                                
                                <article class="media" v-for="(item, i) in getList" :key="i+1">
                                    <p>
                                        <strong>[[ item.user ]]</strong><br>
                                        [[ item.message ]]
                                    </p>
                                </article>
                            </div>
                        </article>
                    </div>
                </article>
                <article class="media">
                    <div class="media-content">
                        <div class="field">
                            <p class="control">
                                <textarea v-model="input" v-on:keyup.enter="submit" class="textarea" placeholder="ここにメッセージ内容を入力"></textarea>
                            </p>
                        </div>
                        <nav class="level">
                            <div class="level-left">
                                <div class="level-item">
                                    <a class="button is-info"　@click="addItem">送信</a>
                                </div>
                            </div>
                            <div class="level-right">
                                <div class="level-item">
                                    <label class="checkbox">
                                        <input type="checkbox" v-model="checked"> Enterで送信
                                    </label>
                                </div>
                            </div>
                        </nav>
                    </div>
                </article>
            </div>            
        </div>
    </div>
</section>
{% endblock content %}